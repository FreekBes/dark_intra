/* ************************************************************************** */
/*                                                                            */
/*                                                        ::::::::            */
/*   improv.css                                         :+:    :+:            */
/*                                                     +:+                    */
/*   By: fbes <fbes@student.codam.nl>                 +#+                     */
/*                                                   +#+                      */
/*   Created: 2021/11/28 01:00:01 by fbes          #+#    #+#                 */
/*   Updated: 2021/12/03 19:54:31 by fbes          ########   odam.nl         */
/*                                                                            */
/* ************************************************************************** */

/**
 * This CSS file is used for general improvements on Intra. It is always loaded,
 * whether in dark or light mode does not matter.
 */

/* remove horizontal scrollbar, as it causes visual glitches anyways */
html {
	overflow-x: hidden !important;
}

/* Windows Futura font family fix */
.modal-v2 .modal-header,
.event-modal .head h4,
.exam-modal .head h4 {
	font-family: 'futura-bold', 'futuraBold' !important;
}

/* off-screen account dropdown menu fix for short usernames */
.main-navbar-user-nav .dropdown .dropdown-menu {
	left: unset !important;
	right: 0px !important;
}

/* fix 100 % scores on ratings on feedback page */
li.scaleteam-list-item .rating {
	flex-basis: 50px !important;
}

/* force user profile pictures to always cover the whole element */
.user-profile-picture {
	background-size: cover !important;
}

/* add blur to profile banners behind containers */
.profile-item .user-progress .progress,
.profile-item .user-header-box,
.profile-item .user-primary .user-infos .user-infos-sub,
.profile-item .user-primary .user-infos .button-actions {
	background: rgba(32, 32, 38, 0.75) !important;
	backdrop-filter: blur(4px) !important;
	border-radius: 4px !important;
}

/* slightly changed opacity for customized profiles */
.profile-item .profile-banner.customized .user-progress .progress,
.profile-item .profile-banner.customized .user-header-box,
.profile-item .profile-banner.customized .user-primary .user-infos .user-infos-sub,
.profile-item .profile-banner.customized .user-primary .user-infos .button-actions {
	background: rgba(32, 32, 38, 0.6) !important;
}

/* fix padding on profile name etc. */
.user-primary .user-infos.padding-left-30 {
	padding-left: 15px !important;
}


/* fix z-index for tooltips on action buttons in user banners */
.profile-item .user-primary .user-infos .button-actions {
	z-index: 1;
	margin-right: 10px !important;
}

/* fix hover color for profile actions in profile banners */
.profile-item .user-primary .user-infos .button-actions a:hover {
	color: inherit !important;
}

/* fix vertical alignment for login name on user banners */
.profile-name .login {
	margin-top: 17px !important;
}

/* scrollbar fix for main page overview */
.home-middle-td {
	overflow: auto !important;
}

/* bugfix overflow in achievements / projects selector on user profiles */
.profile-title[data-toggle] {
	text-align: center !important;
	padding-top: 8px !important;
	overflow: hidden !important;
	text-overflow: ellipsis !important;
}

/* reset school record button background */
.school-record-button {
	background-color: initial !important;
}

/* add dropdown arrow to school record button, since it opens a dropdown menu */
.school-record-button::after {
	content: ' â–¾';
}

/* make achievement item container backgrounds transparent */
.achievement-item.stacked .achievement-item--container {
	background-color: rgba(0,0,0,0) !important;
}

/* hide border from p element in achievements */
.achievements-nav .achievements-nav-item input.kind-filter + label p {
	border-color: rgba(0,0,0,0) !important;
}

/* fix border radius on buttons that have an element to the right of it */
.input-group .form-control:first-child,
.input-group-addon:first-child,
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group>.btn,
.input-group-btn:first-child > .dropdown-toggle,
.input-group-btn:last-child > .btn:not(:last-child):not(.dropdown-toggle),
.input-group-btn:last-child > .btn-group:not(:last-child) > .btn {
	border-bottom-right-radius: 0 !important;
	border-top-right-radius: 0 !important;
}

/* fix cursor for input group addon */
.input-group-addon {
	cursor: pointer !important;
}

/* fix give up button stretching the project page */
.team-actions .btn.btn-block.btn-danger {
	white-space: normal !important;
}

/* make background of skill chart and logtime goal meter transparent */
#skill-chart svg .highcharts-background,
#logtime_goal svg .highcharts-background {
	fill: rgba(255, 255, 255, 0) !important;
}

/* remove text shadow from labels in highchart containers */
.highcharts-container svg > text,
.highcharts-data-labels > g > text {
	text-shadow: none !important;
}

/* force default cursor for logtime overview (for better accuracy) */
#user-locations g > rect,
#user-locations g > text {
	cursor: default !important;
}

/* fix background banner repeating on small screens */
.profile-banner {
	background-size: cover !important;
}

/* fix background position of background banner, but not on customized profiles */
.profile-banner:not(.customized) {
	background-position: center center !important;
}

/* make text without background more readable in profile banners */
.profile-banner .coalition-name,
.profile-banner .name,
.profile-banner .login {
	text-shadow: 0 0 3px #000000 !important;
}

/* bugfix for dropdown menu cursus select in dashboard banner */
.profile-item .profile-item-top.home-banner .profile-right-box .cursus-user-select {
	background-color: rgba(0,0,0,0) !important;
	padding-right: 8px !important;
}

/* bugfix for text alignment dropdown menu cursus select in profile banners */
.profile-item .user-primary .user-infos .cursus-user-select {
	background-color: rgba(0,0,0,0) !important;
	text-align: center !important;
}

/* fix coalition banner vertical alignment */
.profile-name .mini-banner,
.profile-name .user-banner {
	align-self: start !important;
}

/* remove border radius on right info box in profile banner */
.profile-on-users.profile-item .user-header-box.infos {
	border-radius: 0px !important;
}

/* fix height of profile banner containers */
.profile-item .location {
	min-height: 183px !important;
}

/* fix height of profile banner containers for screens of <1900px wide */
@media (max-width: 1900px) {
	.profile-item .location {
		min-height: 188px !important;
	}
}

/* set margin to top of level bar the same as in between other containers */
.profile-item .user-progress .cursus-progress-item .progress-container {
	margin-top: 10px !important;
}

/* fix border radius on smaller screens */
@media (max-width: 992px) {
	.profile-item .user-header-box {
		border-radius: 4px 4px 4px 4px !important;
	}

	.profile-item .user-header-box:not(:last-of-type):first-of-type {
		border-radius: 4px 4px 0 0 !important;
	}

	.profile-item .user-header-box:not(:first-of-type):last-of-type {
		border-radius: 0 0 4px 4px !important;
	}
}

/* styles for when cluster map links are enabled in profile banners */
.profile-item .location .user-poste-infos.improved {
	cursor: pointer !important;
}

/* hover styles for when cluster map links are enabled in profile banners */
.profile-item .location .user-poste-infos.improved:hover {
	text-decoration: underline !important;
}

/* fix color of pool donation button */
.correction-point-btn:not([style*="color:"]):not(.btn) {
	color: #f2f2f2 !important;
}

/* remove underline from pool donation button */
.correction-point-btn:not([style*="color:"]):not(.btn):hover, .correction-point-btn:not([style*="color:"]):not(.btn):focus {
	color: inherit !important;
	text-decoration: none !important;
}

/* fix pool donation amount selector cursor */
.rb-spot,
.rb-spot > * {
	cursor: pointer !important;
}

/* custom titles for contributors */
a[data-tooltip-login="pde-bakk"]::before,
.profile-name span.login[data-login="pde-bakk"]::before,
a[data-tooltip-login="lde-la-h"]::before,
.profile-name span.login[data-login="lde-la-h"]::before,
a[data-tooltip-login="jlensing"]::before,
.profile-name span.login[data-login="jlensing"]::before,
a[data-tooltip-login="ieilat"]::before,
.profile-name span.login[data-login="ieilat"]::before {
	content: 'Improved Intra Contributor ';
}

/* custom title for creator */
a[data-tooltip-login="fbes"]::before,
.profile-name span.login[data-login="fbes"]::before {
	content: 'Improved Intra Creator ';
}

/* profile page easter egg for fbes (me, le creator) */
.container-inner-item.profile-item-top.profile-banner.egg {
	background-blend-mode: multiply !important;
	animation: rainbow-bg 16s linear !important;
	animation-iteration-count: infinite !important;
}

/* profile page easter egg for fbes (me, le creator) */
.profile-item .profile-banner.egg .user-progress .progress,
.profile-item .profile-banner.egg .user-header-box,
.profile-item .profile-banner.egg .user-primary .user-infos .user-infos-sub,
.profile-item .profile-banner.egg .user-primary .user-infos .button-actions {
	background: rgba(0, 0, 0, 0.4) !important;
}

/* profile page easter egg for fbes (me, le creator) */
@keyframes rainbow-bg {
	100%, 0% { background-color: rgb(127,0,255); }
	8% { background-color: rgb(255,0,255); }
	16% { background-color: rgb(255,0,127); }
	25% { background-color: rgb(255,0,0); }
	33% { background-color: rgb(255,127,0); }
	41% { background-color: rgb(255,255,0); }
	50% { background-color: rgb(127,255,0); }
	58% { background-color: rgb(0,255,0); }
	66% { background-color: rgb(0,255,127); }
	75% { background-color: rgb(0,255,255); }
	83% { background-color: rgb(0,127,255); }
	91% { background-color: rgb(0,0,255); }
}

/* remove border radius from search page results (only user and video items) */
.search-item.search-user-item .search-item-main,
.search-item.search-video-item .search-item-main {
	border-radius: 0px;
}

/* remove text decoration from img on search results (used in alt text) */
.search-item.search-user-item:hover > img,
.search-item.search-video-item:hover > img,
.student-item .student-login {
	text-decoration: none !important;
}

/* fix auth page height, useful for background colors */
html.soft-background, body.authorization-layout {
	height: 100%;
}

/* improved text shadow on API page */
.main-summary,
.intro-header h1 {
	text-shadow: 0 0 3px #000000 !important;
}

/* no text shadow on main content container or resource items */
.blue-background .main-content-container,
.resource-item {
	text-shadow: none !important;
}

/* color fix for header inside of anchor */
a h1:not(.profile-name),
a h2:not(.profile-name),
a h3:not(.profile-name),
a h4:not(.profile-name),
a h5:not(.profile-name) {
	color: inherit !important;
}

/* A.G.U Panel (not translated since that does not seem to work properly: https://bugs.chromium.org/p/chromium/issues/detail?id=115800) */
.text-agu:last-of-type::after {
	content: '\A\APlease disable the Improved Intra 42 extension before continuing. I did not test the pages after clicking the SET-UP-button and it is likely they will contain errors, which could result in a wrongfully allocated freeze.' !important;
	color: red !important;
	white-space: pre-wrap !important;
	font-weight: bold !important;
}

/* hide double black hole date */
#blackhole-date:last-of-type {
	display: none !important;
}

/* remove eval sheet background */
.scale-question-answers,
.scale-div {
	background: rgba(0,0,0,0) !important;
}

/* add not-allowed cursor to disabled buttons */
.btn[disabled],
.fc-state-disabled {
	cursor: not-allowed !important;
}

/* add small border radius to input fields */
input[type="text"]:not(.search-input),
input[type="password"],
input[type="number"],
input[type="date"],
input[type="datetime-local"],
input[type="time"],
input[type="email"],
select,
textarea,
.form-control,
.Select-control,
.Select-menu-outer,
.Select-menu {
	border-radius: 3px !important;
}

/* add max width to textareas to make them unable to be resized outside of their container */
textarea {
	max-width: 100% !important;
}

/* set default color on tooltips */
.tooltip {
	cursor: default !important;
}

/* remove weird margin from profile banner containers */
@media (max-width: 991px) {
	.profile-item .profile-item-top.home-banner .profile-right-box {
		margin: 10px 15px 0 15px !important;
	}

	.profile-item .user-progress,
	.profile-item .user-primary .user-infos .button-actions,
	.profile-item .user-header-box {
		margin-right: 0px !important;
	}
}

@media (max-width: 768px) {
	/* fix month overview on smaller screens */
	.event-list .event-item .event-left .date-month {
		margin: 0 auto !important;
		text-align: center !important;
		overflow: hidden !important;
		text-overflow: clip !important;
		max-width: 3ch !important;
	}

	/* fix padding-top on user-infos (looks bad with coalition banner) */
	.user-primary .user-infos {
		padding-top: 0px !important;
	}
}

/* fix backdrop-filter not being supported in Firefox for the blurry containers in front of profile banners */
/* includes the .profile-item-top rule to work around the importance of customized profile rules */
@supports not (backdrop-filter: none) {
	.profile-item .profile-banner.profile-item-top .user-progress .progress,
	.profile-item .profile-banner.profile-item-top .user-header-box,
	.profile-item .profile-banner.profile-item-top .user-primary .user-infos .user-infos-sub,
	.profile-item .profile-banner.profile-item-top .user-primary .user-infos .button-actions {
		background: rgba(32, 32, 38, 0.88) !important;
		text-shadow: 0 0 2px rgba(32, 32, 38, 0.8) !important;
	}
}
